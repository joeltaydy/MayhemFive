{% extends 'Module_TeamManagement/Student/studentBase.html' %}
{% load staticfiles %}

{% block bootstrapContent %}
<head>
    <link rel="stylesheet" href="{% static 'css/itopsstudentdeploystd.css' %}">

</head>

<div class="col-md-12">
        <h1 align="center">IT Operations Lab</h1>
        <img src="{% static 'images/Devops Symbol.png' %}" alt="Devops" width=180px height = 90px style="display: block;margin-left: auto;margin-right: auto;"><br>

        <div class= "redirect">
            <div class="btn-group col-md-8 text-center" style="display: block;margin-left: auto;margin-right: auto;">
                <button onclick="location.href= '{% url 'DMmod:itopslab_studeploystd' %}';" type="button" class="btn btn-dark active">Deploy</button>
                <button onclick="location.href = '{% url 'DMmod:itopslab_stumonitor' %}';" type="button" class="btn btn-dark">Monitor</button>
            </div>
        </div>

        <hr>
        <h2 align="center"><i>Deploy</i></h2>
        <br>
        <div class= "redirect">
            <div class="btn-group col-md-8 text-center" style="display: block;margin-left: auto;margin-right: auto;">
                <button onclick="location.href= '{% url 'DMmod:itopslab_studeploystd' %}';" type="button" class="btn btn-dark active">Standard</button>
                <button onclick="location.href = '{% url 'DMmod:itopslab_studeploy' %}';" type="button" class="btn btn-dark">Step-By-Step</button>
            </div>
        </div>
        <br>
        <div id="accordion" class="panel-group col-md-9" style="display: block;margin-left: auto;margin-right: auto;">
            <div class="panel">
            <div class="panel-heading">
            <h5 class="panel-title">
                <a href="#panelBodyOne" class="accordion-toggle" data-toggle="collapse" data-parent="#accordion">AWS Information</a>
                </h5>
            </div>
            
             <!-- Request AWS Information-->
            <div id="panelBodyOne" class="panel-collapse collapse in">
                <div class="panel-body">
    
                    <form id="accNum" action="{% url 'DMmod:itopslab_studeploystd' %}" method="POST" enctype="multipart/form-data" class="form-horizontal">
                        {% csrf_token %}
                        <div class="container col-md-6" style="display: block;margin-left: auto;margin-right: auto;">
                            <label for="name" class="control-label">Account Number</label>
                            <input class="form-control" type="text" name="account_number" id="account_number" aria-describedby="fileHelp" placeholder="Account Number">
                            <br>
                        </div>
                        <div class="col-md-9 form-group" style = "margin-bottom:40px;">
                            <br>
                            <button class="btn btn-dark pull-right" type="submit" value="Submit">Submit</button>
                        </div>
                    </form>
                    <div class="container col-md-9" style="display: block;margin-left: auto;margin-right: auto;">
                        <h3><b>Submitted Account Number </b></h3>
                        {% if submittedAccountNumber != "" %}
                            <b>Current Account Number:</b> {{account_number}}
                        {% else %}
                            <b><i color = "red">No Account Number submitted</i></b>
                        {%endif %}
    
                    </div>

                </div>
            </div>
            </div>

            <div class="panel">
                    <div class="panel-heading">
                    <h5 class="panel-title">
                        <a href="#panelBodyTwo" class="accordion-toggle collapsed" data-toggle="collapse" data-parent="#accordion">Submit Deployment IP Address</a>
                        </h5>
                    </div>
                     <!-- Deployment Package Table-->
                    <div id="panelBodyTwo" class="panel-collapse collapse">
                        <div class="panel-body">

                            <form id="ipaddress" action="{% url 'DMmod:itopslab_studeploystd' %}" method="POST" enctype="multipart/form-data" class="form-horizontal">
                                {% csrf_token %}
                                <div class="container col-md-6" style="display: block;margin-left: auto;margin-right: auto;">
                                    <label for="name" class="control-label">IP Address</label>
                                    <input class="form-control" type="text" name="ipaddress" id="ipaddress" aria-describedby="fileHelp" placeholder="IP Address">
                                    <br>
                                </div>
                                <div class="col-md-9 form-group" style = "margin-bottom:40px;">
                                    <br>
                                    <button class="btn btn-dark pull-right" type="submit" value="Submit">Submit</button>
                                </div>
                            </form>
                            <div class="container col-md-9" style="display: block;margin-left: auto;margin-right: auto;">
                                <h3><b>Submitted IP Addresses </b></h3>
                                {% if ipAddressList != "" %}
                                    Will Insert Table with ip addresses 
                                    <table class="table" id="ip-table">
                                    <thead>
                                        <tr>
                                        <th>S/N</th>
                                        <th>IP Address</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>1</td>
                                            <td>IP here </td>
                                        </tr>
                                    </tbody>
                                    </table>
                                {% else %}
                                    <b><i color = "red">No IP Address submitted</i></b>
                                {%endif %}
            
                            </div>
            
                        </div>
                    </div>
            </div>



           
        </div>
</div>

<!--JS Scripts-->

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js" type="text/javascript"></script>
<!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" type="text/javascript"></script> -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.17.0/jquery.validate.min.js" type="text/javascript"></script>

<script src="{% static 'js/multistepform.js' %}" type="text/javascript"></script>
<!-- <script src="../../../../CLE/static/js/multistepform.js" type="text/javascript"></script> -->

<script>
$(document).ready(function(){
    $('[data-toggle="popover"]').popover();
});

//validations for form fields
    $("#accNum").validate({
        rules: {
            accountNum: {
                digits: true, //checks account number if digits have been entered
                required: true
            },
        },
        messages: {
            accountNum: {
                digits: "Please enter a valid AWS Account Number.",
                required: "Please enter an Account Number."
            }
        }
    });

    $("#ipaddress").validate({
        rules: {
            ipaddress: {
                ipadd:true, //checks ip address format
                required:true
            }
        },
        messages: {
            accountNum: {
                required: "Please enter an IP Address."
            }
        }
    });

   

        //ip address validator
        jQuery.validator.addMethod("ipadd", function(ipaddress, element) {
        return this.optional( element ) || /^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(ipaddress);
        }, 'Please enter a valid IP Address.');

        $(function(){
            var accNum = "{{submittedAccNum.account_number}}";
            if (accNum==""){
                document.getElementById("accNext").disabled = true;
            } else {
                window.onload = function(){
                    document.getElementById("accNext").click();
                }
            }
        });

</script>
</div>

{% endblock %}
